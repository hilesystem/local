import{promises as e,constants as i}from"fs";import{ofError as t,of as r}from"@r37r0m0d3l/of";import s from"path";function _defineProperty(e,i,t){return i in e?Object.defineProperty(e,i,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[i]=t,e}async function createDirectory(i,r="0777",s=!0){const a=await t(e.mkdir(i,{mode:r,recursive:s}));return a||!0}async function getStatus(i){return r(e.stat(i))}async function writeFile(i,r,s){const a=await t(e.writeFile(i,r,s));return a||!0}async function createFile(i,r="0777"){const[a,c]=await getStatus(i);if(!c&&a.isFile())return!0;const l=s.dirname(i);if(c&&"ENOENT"===c.code){const e=await createDirectory(l,r);if(!0!==e)return e;const t=await writeFile(i,"",{mode:r,flag:"w"});return!0===t||t}return a.isDirectory()?await writeFile(i,"",{mode:r,flag:"w"}):await t(e.readdir(l))}async function accessWrapper(i,r){const s=await t(e.access(r,i));return s||!0}async function dirIsExecutable(e){return accessWrapper(i.X_OK,e)}async function dirIsReadable(e){return accessWrapper(i.R_OK,e)}async function dirIsVisible(e){return accessWrapper(i.F_OK,e)}async function dirIsWritable(e){return accessWrapper(i.W_OK,e)}async function isDirExists(e){const[i,t]=await getStatus(e);return!t&&i.isDirectory()}async function isFileExists(e){const[i,t]=await getStatus(e);return!t&&i.isFile()}async function isPathExists(e){const[i]=await getStatus(e);return Boolean(i)}async function fileIsExecutable(e){return accessWrapper(i.X_OK,e)}async function fileIsReadable(e){return accessWrapper(i.R_OK,e)}async function fileIsVisible(e){return accessWrapper(i.F_OK,e)}async function fileIsWritable(e){return accessWrapper(i.W_OK,e)}async function fileTruncate(i,r=0){const s=await t(e.truncate(i,r));return s||!0}class HileSystemLocal{}_defineProperty(HileSystemLocal,"createDirectory",createDirectory),_defineProperty(HileSystemLocal,"createFile",createFile),_defineProperty(HileSystemLocal,"dirIsExecutable",dirIsExecutable),_defineProperty(HileSystemLocal,"dirIsReadable",dirIsReadable),_defineProperty(HileSystemLocal,"dirIsVisible",dirIsVisible),_defineProperty(HileSystemLocal,"dirIsWritable",dirIsWritable),_defineProperty(HileSystemLocal,"getStatus",getStatus),_defineProperty(HileSystemLocal,"isDirExists",isDirExists),_defineProperty(HileSystemLocal,"isFileExists",isFileExists),_defineProperty(HileSystemLocal,"isPathExists",isPathExists),_defineProperty(HileSystemLocal,"fileIsExecutable",fileIsExecutable),_defineProperty(HileSystemLocal,"fileIsReadable",fileIsReadable),_defineProperty(HileSystemLocal,"fileIsVisible",fileIsVisible),_defineProperty(HileSystemLocal,"fileIsWritable",fileIsWritable),_defineProperty(HileSystemLocal,"fileTruncate",fileTruncate),_defineProperty(HileSystemLocal,"writeFile",writeFile);export{HileSystemLocal,createDirectory,createFile,dirIsExecutable,dirIsReadable,dirIsVisible,dirIsWritable,fileIsExecutable,fileIsReadable,fileIsVisible,fileIsWritable,fileTruncate,getStatus,isDirExists,isFileExists,isPathExists,writeFile};
//# sourceMappingURL=local.mjs.map
